webpackJsonp([3],{"+dxn":function(t,e){},Z9I4:function(t,e){},dDdS:function(t,e){},k3fk:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),r=s("NYxO"),i=s("D/cR"),o={computed:a()({},Object(r.c)({list:"spces/spces",size:"spces/size",total:"spces/total"})),components:{},data:function(){return{}},methods:a()({changePage:function(t){this.changePageAction(t)}},Object(r.b)({requsetSpcesList:"spces/requsetSpcesList",requsetSpcesTotal:"spces/requsetSpcesTotal",changePageAction:"spces/changePageAction"}),{edit:function(t){this.$emit("edit",t)},del:function(t){var e=this;this.$confirm("此操作将永久删除此条信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.G)(t).then(function(t){200===t.data.code?e.$message({type:"success",message:t.data.msg}):e.$message({type:"info",message:t.data.msg}),e.requsetSpcesList(),e.requsetSpcesTotal()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}),mounted:function(){this.requsetSpcesList(),this.requsetSpcesTotal()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.list,"row-key":"id",border:"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[s("el-table-column",{attrs:{prop:"id",label:"规格编号"}}),t._v(" "),s("el-table-column",{attrs:{prop:"specsname",label:"规格名称"}}),t._v(" "),s("el-table-column",{attrs:{label:"规格属性"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.attrs,function(e){return s("el-tag",{key:e},[t._v(t._s(e))])})}}])}),t._v(" "),s("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?s("el-button",{attrs:{type:"primary"}},[t._v("启用")]):s("el-button",{attrs:{type:"info"}},[t._v("禁用")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:function(s){return t.del(e.row.id)}}},[t._v("删 除")])]}}])})],1),t._v(" "),s("el-pagination",{attrs:{layout:"prev, pager, next","page-size":t.size,total:t.total},on:{"current-change":t.changePage}})],1)},staticRenderFns:[]};var l=s("VU/8")(o,c,!1,function(t){s("+dxn")},"data-v-c42b73f6",null).exports,u=s("mvHQ"),d=s.n(u),p=s("BGi1"),f={props:["info"],computed:a()({},Object(r.c)({list:"spces/spces",total:"spces/total"})),components:{},data:function(){return{form:{specsname:"",attrs:"[]",status:1},attrsArr:[{val:""}]}},methods:a()({addArr:function(){this.attrsArr.push({val:""})},delArr:function(t){this.attrsArr.splice(t,1)},add:function(){var t=this;this.form.attrs=d()(this.attrsArr.map(function(t){return t.val})),Object(i.E)(this.form).then(function(e){200===e.data.code&&(t.cancel(),t.empty(),Object(p.a)(e.data.msg),t.requsetSpcesList(),t.requsetSpcesTotal())})},empty:function(){this.form={specsname:"",attrs:"[]",status:1},this.attrsArr=[{val:""}]},update:function(){var t=this;this.form.attrs=d()(this.attrsArr.map(function(t){return t.val})),Object(i.J)(this.form).then(function(e){200===e.data.code&&(t.empty(),t.cancel(),Object(p.a)(e.data.msg),t.requsetSpcesList(),t.requsetSpcesTotal())})},getOne:function(t){var e=this;Object(i.I)(t).then(function(t){e.form=t.data.list[0],e.attrsArr=JSON.parse(e.form.attrs).map(function(t){return{val:t}})})},cancel:function(){this.info.isshow=!1}},Object(r.b)({requsetSpcesList:"spces/requsetSpcesList",requsetSpcesTotal:"spces/requsetSpcesTotal"})),mounted:function(){this.requsetSpcesList()}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:t.info.title,visible:t.info.isshow},on:{"update:visible":function(e){return t.$set(t.info,"isshow",e)}}},[s("el-form",{attrs:{model:t.form}},[s("el-form-item",{attrs:{label:"规格名称","label-width":"120px"}},[s("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.specsname,callback:function(e){t.$set(t.form,"specsname",e)},expression:"form.specsname"}})],1),t._v(" "),t._l(t.attrsArr,function(e,n){return s("el-form-item",{key:n,attrs:{label:"规格属性","label-width":"120px"}},[s("div",{staticClass:"spcesNamebox"},[s("div",{staticClass:"inp-box"},[s("el-input",{attrs:{autocomplete:"off"},model:{value:e.val,callback:function(s){t.$set(e,"val",s)},expression:"item.val"}})],1),t._v(" "),0==n?s("el-button",{attrs:{type:"primary"},on:{click:t.addArr}},[t._v("新增属性")]):s("el-button",{attrs:{type:"danger"},on:{click:t.delArr}},[t._v("删 除")])],1)])}),t._v(" "),s("el-form-item",{attrs:{label:"状态","label-width":"120px"}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],2),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),"商品规格添加"==t.info.title?s("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添 加")]):s("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var v={components:{vList:l,vAdd:s("VU/8")(f,m,!1,function(t){s("Z9I4")},"data-v-5b77335e",null).exports},data:function(){return{info:{isshow:!1,title:"商品规格添加"}}},methods:{willAdd:function(){this.info={isshow:!0,title:"商品规格添加"},this.$refs.add.empty()},willUpdate:function(t){this.info={isshow:!0,title:"商品规格修改"},this.$refs.add.getOne(t)}},mounted:function(){}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-button",{attrs:{type:"primary"},on:{click:t.willAdd}},[t._v("添加")]),t._v(" "),s("v-add",{ref:"add",attrs:{info:t.info}}),t._v(" "),s("v-list",{on:{edit:function(e){return t.willUpdate(e)}}})],1)},staticRenderFns:[]};var b=s("VU/8")(v,h,!1,function(t){s("dDdS")},"data-v-c85566a8",null);e.default=b.exports}});
//# sourceMappingURL=3.5f7ec14bcdce2902e9df.js.map